javascript:(function(){let sel=document.getSelection();let selText="";const reference=`[${document.title }](${location.href }) #[[+Roam]]`;if(sel.rangeCount>1){selText=reference+"\n";for(let i=0;i<sel.rangeCount;i+=1){selText+=`\t__${sel.getRangeAt(i).toString()}__ \n`}}else{selText=sel.toString();if(selText.length){selText=`__${ selText }__ via `}selText+=reference}const ta=document.createElement("textarea");ta.textContent=`${ selText }`;document.body.appendChild(ta);const docSel=document.getSelection();docSel.removeAllRanges();ta.select();document.execCommand("copy");docSel.removeAllRanges();document.body.removeChild(ta)})();
